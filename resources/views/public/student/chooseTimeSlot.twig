{% set lang = Schola.language('student') %}

{% extends "@Schola/public/layout/layoutDashboard.twig" %}

{% block title %}{{ lang.schedule }}{% endblock %}

{% block head %}
    <script src="{{ Schola.helper( 'assetUrl' , '/public/js/student/schedule.js' ) }}" type="text/javascript"></script>
    <script type="text/javascript">
        var URL = {
            getScheduleGrid:'{{ route_url('Schola::schola-student-schedule-grid') }}',
            updateSchedule:'{{ route_url('Schola::schola-student-schedule-update') }}',
            scheduleDetail:'{{ route_url('Schola::schola-student-schedule-detail') }}',
            classRoom:'{{route_url('Schola::classroom')}}',
            deleteSchedule:'{{route_url('Schola::schola-student-schedule-delete')}}',
            getLession:'{{route_url('Schola::schola-student-get-lesson')}}',
            classDetail:'{{route_url('Schola::schola-class-detail')}}',
            action: '{{ route_url('Schola::schola_student_action')}}',
            studentLearningProgress: '{{ route_url('Schola::studentLearningProgress') }}'
        };
        $(document).ready(function(){
            scheduleView.init(URL);
        });
    </script>
 
{% endblock %}

{% block content %}
    <div>
        {% include "@Schola/public/student/navigation.twig" %}
    </div>
    <div class="container-fluid">
        <div class="content-width">
            <div class="panel-content schedule-board">
                <div class="dashboard-content">
                    <div>
                        {% include "@Schola/public/student/leftNavigation.twig" %}
                    </div>
                    <div class="clearfix">
                        <div class="page-title">{{ lang.choose_time_slot|raw }}</div>

                        <div class="panel-schedule">
                            <div class="panel-filter-teacher">
                                <div class="title">1. {{ lang.filter_teacher }}</div>
                                <div class="filter-radio hidden-xs">
                                    <div class="radio radio-orange radio-inline">
                                        <input type="radio" name="choiceTeacherType" id="allTeacher" value="1" data-type="1" checked="checked">
                                        <label for="allTeacher">{{ lang.schola_recommended }}</label>
                                    </div>
                                    <div class="radio radio-orange radio-inline">
                                        <input type="radio" name="choiceTeacherType" id="previousTeacher" value="4" data-type="4">
                                        <label for="previousTeacher">{{ lang.previous_favorite_teacher }}</label>
                                    </div>
                                </div>
                                <div class="filter-radio hidden visible-xs">
                                    <div class="dropdown dropdown-custom" id="filterTeacher">
                                        <button class="btn btn-default dropdown-toggle" type="button"
                                                id="dropdownFilterWeek" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span class="dropdown-label">{{ lang.previous_favorite_teacher }}</span>
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownFilterWeek">
                                            <li><a data-type="4" href="javascript:void(0)">{{ lang.previous_favorite_teacher }}</a></li>
                                            <li><a data-type="3" href="javascript:void(0)">{{ lang.schola_recommended }}</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="list-teacher clearfix" id="listSelectedTeacher">
                                        {% include "@Schola/public/student/listTeacher.twig" %}
                                </div>
                            </div>
                            <div class="panel-grid mt30">
                                <div class="title">2. {{ lang.click_and_select_suitable_slot }}</div>
                                <div class="schedule-grid">
                                    <div class="choice-week">
                                        <div class="filter-week hidden-xs">
                                            <div class="radio radio-orange radio-inline">
                                                <input type="radio" name="choiceWeek" id="thisWeek" value="{{ currentWeek + 0 }}" checked="checked">
                                                <label for="thisWeek">{{ lang.this_weed }}</label>
                                            </div>
                                            <div class="radio radio-orange radio-inline">
                                                <input type="radio" name="choiceWeek" id="nextWeek" value="{{ currentWeek + 1 }}">
                                                <label for="nextWeek">{{ lang.next_week }}</label>
                                            </div>
                                            <div class="radio radio-orange radio-inline">
                                                <input type="radio" name="choiceWeek" id="afterNextWeek" value="{{ currentWeek + 2 }}">
                                                <label for="afterNextWeek">{{ lang.the_week_after_next }}</label>
                                            </div>
                                        </div>

                                        <div class="filter-week hidden visible-xs">
                                            <div class="dropdown dropdown-custom" id="filterWeek">
                                                <button class="btn btn-default dropdown-toggle" type="button"
                                                        id="dropdownFilterWeek" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <span class="dropdown-label">{{ lang.this_weed }}</span>
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="dropdownFilterWeek">
                                                    <li><a data-week="{{ currentWeek + 0 }}" href="javascript:void(0)">{{ lang.this_weed }}</a></li>
                                                    <li><a data-week="{{ currentWeek + 1 }}" href="javascript:void(0)">{{ lang.next_week }}</a></li>
                                                    <li><a data-week="{{ currentWeek + 2 }}" href="javascript:void(0)">{{ lang.the_week_after_next }}</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="scheduleGridContent">
                                        {%include "@Schola/public/student/scheduleGrid.twig"%}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dot-color">
                    <div class="dot-1 hidden-xs"></div>
                    <div class="dot-2 hidden-xs"></div>
                    <div class="dot-3 hidden-xs"></div>
                </div>
            </div>
        </div>
    </div>

    <input type="hidden" value="{{ lesson_id }}" id="lesson_id" />

    <div id="pnlDialogSelectLesson">

    </div>
    <div id="pnlDialogTeacherProfile">

    </div>
    <div>
        <!-- Confirm cancel class -->
        {%include "@Schola/public/dialog/confirmCancelBookedNormalClassDialog.twig"%}
    </div>
    <div>
        {%include "@Schola/public/dialog/cancelClassConfirmationDialog.twig"%}
    </div>
{% endblock %}